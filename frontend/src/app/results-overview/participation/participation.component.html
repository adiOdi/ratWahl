<h1>Wahlbeteiligung</h1>

<mat-table [dataSource]="tokenByLocalGroup" >

  <!-- local group column -->
  <ng-container matColumnDef="localGroup">
    <mat-header-cell *matHeaderCellDef> Kollektiv </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{ element.localGroup }} </mat-cell>
    <mat-footer-cell *matFooterCellDef><b>Gesamt</b></mat-footer-cell>
  </ng-container>

  <!-- token created column -->
  <ng-container matColumnDef="tokenCreated">
    <mat-header-cell *matHeaderCellDef> Stimmberechtigte </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{ element.tokenCreated }}</mat-cell>
    <mat-footer-cell *matFooterCellDef><b>{{ totalTokenCreated }}</b></mat-footer-cell>
  </ng-container>

  <!-- votes column -->
  <ng-container matColumnDef="votes">
    <mat-header-cell *matHeaderCellDef> Abgegebene Stimmen </mat-header-cell>
    <mat-cell *matCellDef="let element">{{ element.votes }}</mat-cell>
    <mat-footer-cell *matFooterCellDef><b>{{ totalVotes }}</b></mat-footer-cell>
  </ng-container>

  <!-- participation column -->
  <ng-container matColumnDef="participation">
    <mat-header-cell *matHeaderCellDef> Beteiligung </mat-header-cell>
    <mat-cell *matCellDef="let element">
      {{ (element.votes / element.tokenCreated * 100) | number: '1.2-2' }}%
    </mat-cell>
    <mat-footer-cell *matFooterCellDef><b>{{ totalParticipation | number: '1.2-2' }}%</b></mat-footer-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
  <mat-footer-row *matFooterRowDef="displayedColumns"></mat-footer-row>

</mat-table>
