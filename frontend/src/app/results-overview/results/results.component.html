<h1>Ergebnisse</h1>

<h2>Repräsentation der gewählten Kandidaten</h2>
<mat-table [dataSource]="electionResult().electives">

  <ng-container matColumnDef="elective">
    <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
    <mat-cell *matCellDef="let element">{{ element.name }}</mat-cell>
    <mat-footer-cell *matFooterCellDef><b>Gesamt</b></mat-footer-cell>
  </ng-container>

  @for (group of groups(); track group.uuid) {
    <ng-container [matColumnDef]="group.name">
      <mat-header-cell *matHeaderCellDef>{{ group.name }}</mat-header-cell>
      <mat-cell *matCellDef="let element">{{ element.representedGroups.get(group) | number: '1.2-2' }}%</mat-cell>
      <mat-footer-cell *matFooterCellDef><b>{{ electionResult().overallRepresentation.get(group) | number: '1.2-2' }}%</b></mat-footer-cell>
    </ng-container>
  }

  <mat-header-row *matHeaderRowDef="columnNames()"></mat-header-row>
  <mat-row *matRowDef="let row; columns: columnNames()"></mat-row>
  <mat-footer-row *matFooterRowDef="columnNames()"></mat-footer-row>

</mat-table>

<!--<canvas baseChart [data]="barChart()" type="bar"></canvas>-->
