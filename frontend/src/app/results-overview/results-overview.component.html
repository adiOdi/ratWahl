<mat-toolbar>
  <span>Wahlergebnisse</span>
  @if (election()) {
    <div class="election-select">
      <button matButton
              [matMenuTriggerFor]="electionSelection"
              (menuOpened)="menuButtonIcon = 'arrow_drop_up'"
              (menuClosed)="menuButtonIcon = 'arrow_drop_down'">
        <span>{{ election()?.name }}</span>
        <mat-icon>{{ menuButtonIcon }}</mat-icon>
      </button>
      <mat-menu #electionSelection="matMenu">
        @for (e of elections(); track e.uuid) {
          <button mat-menu-item (click)="election = e">{{ e.name }}</button>
        }
      </mat-menu>
    </div>
  }
</mat-toolbar>
<mat-sidenav-container>
  <mat-sidenav mode="side" opened>
    <div class="sidemenu">
      <button matButton (click)="currentView.set(view.PARTICIPATION)">Wahlbeteiligung</button>
      @if (election()?.result) {
        <mat-divider></mat-divider>
        <button matButton (click)="currentView.set(view.RESULTS)">Ergebnisse</button>
      }
      <mat-divider></mat-divider>
      <button matButton (click)="currentView.set(view.ABOUT)">Ãœber die Wahl</button>
      <mat-divider></mat-divider>
    </div>
  </mat-sidenav>
  <mat-sidenav-content>
    @if (election()) {
      @switch (currentView()) {
        @case (view.PARTICIPATION) {
          <app-participation [groups]="election()!.groups | localGroups"></app-participation>
        }
        @case (view.RESULTS) {
          @if (election()?.result) {
            <app-results [electionResult]="election()!.result!"></app-results>
          }
        }
        @case (view.ABOUT) {
          <app-about></app-about>
        }
      }
    }
  </mat-sidenav-content>
</mat-sidenav-container>
